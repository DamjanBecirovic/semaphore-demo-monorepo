version: v1.0
name: Monorepo Demo
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804
blocks:
  - name: "Dummy block"
    dependencies: []
    task:
      jobs:
        - name: Simple job
          commands:
            - echo 123

promotions:
  - name: Tests
    pipeline_file: test.yml
    parameters:
      env_vars:
        - name: RUN_UI
          description: Run UI tests
          required: true
          options:
            - 'false'
            - 'true'
          default_value: 'false'
        - name: RUN_BILLING
          description: Run Billing tests
          required: true
          options:
            - 'false'
            - 'true'
          default_value: 'false'
  - name: Slow Tests
    pipeline_file: slow_test.yml
    parameters:
      env_vars:
        - name: SLOW_TEST_PARAM
          description: Slow tests param
  - name: Debug
    pipeline_file: debug.yml
    parameters:
      env_vars:
        - name: DEBUG_PARAM
          description: Debug param
